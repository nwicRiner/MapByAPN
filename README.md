# MapByAPN
create geodatabase of parcels matching APN#'s in ICDB

This is the entire python script for a tool to run in an ArcMap that contains layers of parcel shapes.
The tool in ArcMap is setup to accept 1 input parameter, which is the filename of the saved selections file that is generated by the ICDB.

This tool uses the list of reports or resources in the saved selections file,
finds the address record(s) for each entry,
obtains the string value in the APN field from the tblResourceAddr (for Resources) or tblInventoryAddr (for Reports),
and searches for the APN values in the parcel layer in the current map document.

For every matching APN value found, it copies that parcel feature to an initialized shapefile (.shp)
It then fills out attributes for that feature that match the schema of the correponsding Resources or Reports layers
in the IC geodatabase.

Thus the resulting features in the output shape file are suitable for pasting into the appropriate layer in the IC GIS
- Resources: copying OtherID=ResourceName, PrimCo/PrimNo (primary number), any trinomial, setting DocSource=parcel, DigSource=parcel, DigBy=<currentUser>, DigDate=<currentDate>
- Reports: copying OtherID=report title, DocCO/DocNo, DocSource=parcel, DigSource=parcel, DigBy=<currentUser>, DigDate=<currentDate>
  
This tool is premised on the existence of parcel feature layers in the current GIS map, each of which contains at least a text field named "APN" that contains the APN values to be searched for.

Since parcels are generally managed by county-level assessors' offices, and that there is no national (or even statewide) standard for cadastral data, spatial or not, it is usually necessary to obtain the GIS data from each county's office, and prepare an APN field that contains standardized values for APN; and that this be done for each county's dataset and then loaded into the current map document.

The standard at the NWIC is that the working staff .mxd contans a layer group called 'Parcels', which contains a layer for each county's parcel features, standardized with an 'APN' field value.

The code is not designed, nor intended, to find so-called 'close matches' to APN values. Either the exact APN value from the ICDB is found in the corresponding parcel layer, or it is not. 
